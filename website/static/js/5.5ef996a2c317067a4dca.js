(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{1016:function(t,e,n){"use strict";n.r(e);var i=n(1017),r=n.n(i);for(var u in i)"default"!==u&&function(t){n.d(e,t,(function(){return i[t]}))}(u);e.default=r.a},1017:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n(1243)),r=a(n(1245)),u=a(n(1247)),l=a(n(1249));function a(t){return t&&t.__esModule?t:{default:t}}var s={phone:[{required:!0,rule:"phone",message:"请输入活动名称",trigger:"blur"}],text:{required:!0,rule:/^[0-9]{6,16}$/,message:"请输入6-16位数字"},info:{required:!0,rule:/^[0-9]{6,16}$/,message:"请输入6-16位数字"},id:{equired:!0,rule:/^[0-9]{6,16}$/,message:"请输入正确的18位身份证号码"}},o={components:{ItvForm:i.default,ItvLabel:r.default,ItvInput:u.default,FormScroller:l.default},data:function(){return{schema:s,inputList:[{id:1,name:"手机号码",type:"number",key:"phone",schema:"phone"},{id:2,name:"名字",type:"text",key:"name",schema:"phone"},{id:3,name:"文字",type:"text",key:"text",schema:"phone"},{id:4,name:"简介",type:"text",key:"info",schema:"phone"}],model:{name:null,phone:null,text:null,info:null,sex:null,id:null},value:"11010119900307627x"}},methods:{add:function(){this.inputList.push({id:4,name:"性别",type:"text",key:"sex"})},del:function(){this.inputList.splice(2,2)},submit:function(){var t=this.$refs.form.vaildataAll();t&&(console.log(t[0].component),t[0].component.scrollTop(),t[0].component.focus())}},mounted:function(){}};e.default=o},1018:function(t,e,n){"use strict";n.r(e);var i=n(1019),r=n.n(i);for(var u in i)"default"!==u&&function(t){n.d(e,t,(function(){return i[t]}))}(u);e.default=r.a},1019:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,r=(i=n(1244))&&i.__esModule?i:{default:i};var u={name:"itv-form",props:{rules:{type:Object,default:function(){}},model:{type:Object,default:function(){}}},data:function(){return{items:[]}},provide:function(){return{itvForm:this}},methods:{vaildata:function(t,e,n){if(e){var i=new r.default(t,this.rules[e]).getResult();return i?(i.component=n,i):void 0}},vaildataAll:function(){var t=this,e=[];if(this.items=this.items.sort((function(t,e){return t.$el.offsetTop-e.$el.offsetTop})),this.items.forEach((function(n){var i=t.vaildata(n.value,n.rule,n);i&&e.push(i)})),e.length>0)return e},addItem:function(t){this.items.push(t)},delItem:function(t){for(var e=0,n=this.items.length;e<n;e++)if(t._uid===this.items[e]._uid){this.items.splice(e,1);break}},focus:function(t){for(var e=0,n=this.items.length;e<n;e++)if(value._uid===this.items[e]._uid){this.items.splice(e,1);break}}},updated:function(){},mounted:function(){}};e.default=u},1020:function(t,e,n){"use strict";n.r(e);var i=n(1021),r=n.n(i);for(var u in i)"default"!==u&&function(t){n.d(e,t,(function(){return i[t]}))}(u);e.default=r.a},1021:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"itv-label",props:{label:{type:String,defaut:""},prop:{type:String,default:""},id:{type:[String,Number],default:null},rule:{type:String,default:null}},inject:["itvForm","formScroller"],provide:function(){return{itvFormItem:this}},data:function(){return{value:null,random:null}},methods:{vaildate:function(t,e){},focus:function(){this.$emit("focus")},blur:function(){if(this.rule)this.itvForm.vaildata(this.value,this.rule,this)},scrollTop:function(){var t=this.formScroller.getPostion(),e=this.$el.offsetTop;this.formScroller.scrollTop(e-t.y)},setMinHeight:function(t){this.$el.children[0].style.minHeight=t,this.$el.children[1].style.minHeight=t,this.$el.children[2].style.minHeight=t,this.$el.style.lineHeight=t}},destroyed:function(){this.itvForm.delItem(this)},mounted:function(){this.itvForm.addItem(this)}};e.default=i},1022:function(t,e,n){},1023:function(t,e,n){"use strict";n.r(e);var i=n(1024),r=n.n(i);for(var u in i)"default"!==u&&function(t){n.d(e,t,(function(){return i[t]}))}(u);e.default=r.a},1024:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"itv-input",model:{prop:"value",event:"input"},props:{value:{type:[String,Number],default:""},type:{type:String,default:"text"},placeholder:{type:String,default:"请输入"},maxlength:{type:Number,default:null},minlength:{type:Number,default:null},inputType:{type:String,default:"text"},number:{type:Boolean,default:!1}},watch:{value:function(t,e){this.currentValue=t,this.itvFormItem.value=t}},computed:{currentValueHtml:function(){return this.currentValue?this.currentValue.toString().replace(/\n/gi,"<br/>"):null},currentLength:function(){return this.currentValue?this.currentValue.toString().length:0}},inject:["itvFormItem"],data:function(){return{name:"itv-input",currentValue:this.value,inputValue:this.value,numberStr:"-e+.",startHeight:null,height:null}},methods:{vaildate:function(t,e){},keydown:function(t){this.numberStr.indexOf(t.key)>-1&&"number"===this.type&&t.preventDefault()},input:function(t){this.inputValue=this.$refs.value.value,this.$emit("input",this.currentValue),"textarea"==this.type&&(this.$refs.value.style.height=this.startHeight+"px",this.$refs.value.style.height=this.$refs.value.scrollHeight+"px")},blur:function(){this.itvFormItem.blur()},change:function(){},init:function(){var t=this,e=this.$el.clientHeight;e=e%2?e+1:e,"textarea"===this.type&&(setTimeout((function(){t.$refs.value.style.height=e+"px"}),1e3),this.height=e+"px")}},mounted:function(){var t=this;this.init(),this.itvFormItem.$on("del",(function(){t.currentValue=null,t.$emit("input",t.currentValue)})),this.startHeight=this.$refs.value.scrollHeight,this.itvFormItem.$on("focus",(function(){var e=t.$refs.value;"number"===t.type&&(e.type="tel"),e.setSelectionRange&&t.currentValue&&e.setSelectionRange(t.currentValue.length,t.currentValue.length),e.focus(),setTimeout((function(){"number"===t.type&&(e.type=t.type)}))}))}};e.default=i},1025:function(t,e,n){},1026:function(t,e,n){"use strict";n.r(e);var i=n(1027),r=n.n(i);for(var u in i)"default"!==u&&function(t){n.d(e,t,(function(){return i[t]}))}(u);e.default=r.a},1027:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={name:"form-scroller",data:function(){return{}},provide:function(){return{formScroller:this}},methods:{getPostion:function(){var t=this.$el.offsetTop;return{x:this.$el.offsetLeft,y:t,scrollTop:this.$el.scrollTop}},scrollTop:function(t){this.$el.scrollTop=t}},mounted:function(){}}},1028:function(t,e,n){},1029:function(t,e,n){},1243:function(t,e,n){"use strict";n.r(e);var i=n(1304),r=n(1018);for(var u in r)"default"!==u&&function(t){n.d(e,t,(function(){return r[t]}))}(u);var l=n(0),a=Object(l.a)(r.default,i.a,i.b,!1,null,null,null);e.default=a.exports},1244:function(t,e,n){"use strict";function i(t,e){var n=this.dataType(t);this.rulesType=this.dataType(e),this.valueType=n,this.value=t,this.rules=e,"number"===n&&(t=t.toString(),this.valueType="string"),"null"===n&&(this.value="",this.valueType="string"),"object"===this.rulesType&&(this.rules=[e],this.rulesType="array")}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i,i.prototype={dataType:function(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()},getResult:function(){switch(this.rulesType){case"function":return rules(this.value);case"array":return this.verify();default:throw new Error("ruls规则有问题，rules必须是一个数组对象，或者是一个匿名funtion")}},verify:function(){if("string"!==this.valueType)throw new Error("此类型无法通过已有的规则完成验证，请自定义验证规则");this.value=this.value.toString().replace(/(^\s*)|(\s*$)/g,"");for(var t=0,e=this.rules.length;t<e;t++)if(this.rules[t].required||this.value){if(!this.value)return{type:"required",message:this.rules[t].requiredMessage||this.rules[t].message};if(this.value){var n=this.rules[t].rule,i=this.dataType(n);if("regexp"===i&&!n.test(this.value))return{type:"regexp",message:this.rules[t].message};if("function"===i&&this.rules[t].rule(this.value))return{type:"function",message:this.rules[t].message};if("string"===i&&this[n=n.replace(/\s/g,"")]())return{type:n,message:this.rules[t].message}}}},phone:function(){if(!/^1[3|4|5|6|7|8|9][0-9]{9}$/gi.test(this.value))return!0},max:function(t){if(parseFloat(this.value)>t)return!0},min:function(t){if(parseFloat(this.value)<t)return!0},between:function(t,e){return!!this.min(t)||(!!this.max(e)||void 0)},maxLength:function(t){if(this.value.length>t)return!0},minLength:function(t){if(this.value.length<t)return!0},betweenLength:function(t,e){return!!this.minLength(t)||(!!this.maxLength(e)||void 0)},int:function(){if(!/^[1-9]\d*$/.test(this.value))return!0},uint:function(){if(!/^-[1-9]\d*$/.test(this.value))return!0},float:function(){if(!/^[1-9]\d*\.\d*|0\.\d*[1-9]\d*$/.test(this.value))return!0},ufloat:function(){if(!/^-[1-9]\d*\.\d*|-0\.\d*[1-9]\d*$/.test(this.value))return!0},telephone:function(){if(!/^[0-9]{3,4}-\d{7,8}$/.test(this.value))return!0},id:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(new Date).getFullYear();if(18!==this.value.length)return!0;var n=this.value.toUpperCase(),i=(n.substring(0,6),parseInt(n.substring(6,10))),r=parseInt(n.substring(10,12)),u=parseInt(n.substring(12,14));if(parseInt(i)<t||e>parseInt(i))return!0;if(parseInt(r)>12)return!0;var l=[31,28,31,30,31,30,31,31,30,31,30,31],a=i%4;if(!a&&2===r&&u>29)return!0;if(a&&u>l[r-1])return!0;var s=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],o=n.split(""),c=[1,0,"X",9,8,7,6,5,4,3,2],f=0;return s.forEach((function(t,e){f+=t*o[e]})),c[f%11]!=o[o.length-1]||void 0},email:function(){if(!/^[A-Za-z\d]+([-_.][A-Za-z\d]+)*@([A-Za-z\d]+[-.])+[A-Za-z\d]{2,4}$/.test(this.value))return!0},chinese:function(){if(!/^[\u4e00-\u9fa5]{0,}$/.test(this.value))return!0}}},1245:function(t,e,n){"use strict";n.r(e);var i=n(1305),r=n(1020);for(var u in r)"default"!==u&&function(t){n.d(e,t,(function(){return r[t]}))}(u);n(1246);var l=n(0),a=Object(l.a)(r.default,i.a,i.b,!1,null,null,null);e.default=a.exports},1246:function(t,e,n){"use strict";var i=n(1022);n.n(i).a},1247:function(t,e,n){"use strict";n.r(e);var i=n(1306),r=n(1023);for(var u in r)"default"!==u&&function(t){n.d(e,t,(function(){return r[t]}))}(u);n(1248);var l=n(0),a=Object(l.a)(r.default,i.a,i.b,!1,null,null,null);e.default=a.exports},1248:function(t,e,n){"use strict";var i=n(1025);n.n(i).a},1249:function(t,e,n){"use strict";n.r(e);var i=n(1307),r=n(1026);for(var u in r)"default"!==u&&function(t){n.d(e,t,(function(){return r[t]}))}(u);n(1250);var l=n(0),a=Object(l.a)(r.default,i.a,i.b,!1,null,"50172624",null);e.default=a.exports},1250:function(t,e,n){"use strict";var i=n(1028);n.n(i).a},1251:function(t,e,n){"use strict";var i=n(1029);n.n(i).a},1293:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return r}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("itv-container",[n("itv-header",[t._v("Form表单")]),t._v(" "),n("itv-main",[n("form-scroller",[n("itv-form",{ref:"form",attrs:{rules:t.schema}},[t._l(t.inputList,(function(e,i){return n("itv-label",{key:e.key,attrs:{label:e.name,rule:e.schema,id:e.key}},[n("itv-input",{attrs:{placeholder:"请输入你的名字",type:e.type,inputType:"positive"},model:{value:t.model[e.key],callback:function(n){t.$set(t.model,e.key,n)},expression:"model[item.key]"}})],1)})),t._v(" "),n("itv-label",{attrs:{label:"身份证号码"}},[n("itv-input",{attrs:{placeholder:"请输入你的名字",type:"textarea",inputType:"positive"},model:{value:t.model.id,callback:function(e){t.$set(t.model,"id",e)},expression:"model.id"}})],1)],2)],1)],1),t._v(" "),n("div",{staticClass:"btn",on:{click:t.submit}},[t._v("submit")])],1)},r=[]},1304:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return r}));var i=function(){var t=this.$createElement;return(this._self._c||t)("form",[this._t("default")],2)},r=[]},1305:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return r}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{staticClass:"itv-label"},[n("div",{staticClass:"itv-label-title"},[t._t("left",[t._v("\n         *"+t._s(t.label)+"\n    ")])],2),t._v(" "),n("div",{staticClass:"itv-label-content"},[t._t("default")],2),t._v(" "),n("div",{staticClass:"right"},[n("button",{on:{click:function(e){return t.$emit("del")}}},[t._v("del")])])])},r=[]},1306:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return r}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"itv-input-box",style:{height:t.height}},["checkbox"===t.type&&"textarea"!==t.type?n("input",{directives:[{name:"model",rawName:"v-model",value:t.currentValue,expression:"currentValue"}],ref:"value",staticClass:"itv-input",style:{height:t.height},attrs:{maxlength:t.maxlength,minlength:t.minlength,placeholder:t.placeholder,type:"checkbox"},domProps:{checked:Array.isArray(t.currentValue)?t._i(t.currentValue,null)>-1:t.currentValue},on:{input:t.input,change:[function(e){var n=t.currentValue,i=e.target,r=!!i.checked;if(Array.isArray(n)){var u=t._i(n,null);i.checked?u<0&&(t.currentValue=n.concat([null])):u>-1&&(t.currentValue=n.slice(0,u).concat(n.slice(u+1)))}else t.currentValue=r},t.change],blur:t.blur,keydown:t.keydown}}):"radio"===t.type&&"textarea"!==t.type?n("input",{directives:[{name:"model",rawName:"v-model",value:t.currentValue,expression:"currentValue"}],ref:"value",staticClass:"itv-input",style:{height:t.height},attrs:{maxlength:t.maxlength,minlength:t.minlength,placeholder:t.placeholder,type:"radio"},domProps:{checked:t._q(t.currentValue,null)},on:{input:t.input,change:[function(e){t.currentValue=null},t.change],blur:t.blur,keydown:t.keydown}}):"textarea"!==t.type?n("input",{directives:[{name:"model",rawName:"v-model",value:t.currentValue,expression:"currentValue"}],ref:"value",staticClass:"itv-input",style:{height:t.height},attrs:{maxlength:t.maxlength,minlength:t.minlength,placeholder:t.placeholder,type:t.type},domProps:{value:t.currentValue},on:{input:[function(e){e.target.composing||(t.currentValue=e.target.value)},t.input],change:t.change,blur:t.blur,keydown:t.keydown}}):t._e(),t._v(" "),"textarea"==t.type?n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.currentValue,expression:"currentValue"}],ref:"value",staticClass:"itv-textarea",style:{height:t.height},attrs:{maxlength:t.maxlength,minlength:t.minlength,placeholder:t.placeholder},domProps:{value:t.currentValue},on:{input:[function(e){e.target.composing||(t.currentValue=e.target.value)},t.input],change:t.change,blur:t.blur,keydown:t.keydown}}):t._e(),t._v(" "),t.number?n("div",{staticClass:"number"},[t._v(t._s(t.currentLength))]):t._e()])},r=[]},1307:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return r}));var i=function(){var t=this.$createElement;return(this._self._c||t)("div",{ref:"scroller",staticClass:"itv-form-scroller"},[this._t("default")],2)},r=[]},904:function(t,e,n){"use strict";n.r(e);var i=n(1293),r=n(1016);for(var u in r)"default"!==u&&function(t){n.d(e,t,(function(){return r[t]}))}(u);n(1251);var l=n(0),a=Object(l.a)(r.default,i.a,i.b,!1,null,null,null);e.default=a.exports}}]);